{"ast":null,"code":"var _jsxFileName = \"/Users/raphtalia/workspace/rails/5xruby/client/src/login.js\";\nimport React from 'react';\nexport class Login extends React.Component {\n  constructor() {\n    super();\n    this.doLogin = this.doLogin.bind(this);\n  }\n\n  doLogin() {\n    const userName = document.getElementById('username').value;\n    const password = document.getElementById('password').value;\n\n    if (userName !== '' && password !== '') {\n      const uri = 'http://127.0.0.1:3000/login';\n      fetch(uri, {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify({\n          'Username': userName,\n          'Password': password\n        })\n      }).then(response => response.json().then(data => ({\n        data: data,\n        status: response.status\n      }))).then(res => {\n        if (res.status === 401) {\n          alert('ユーザ名かパスワードが間違っています');\n        } else {\n          if (res.data.token) {\n            localStorage.setItem('token', res.data.token);\n          }\n\n          setTimeout(() => {\n            this.props.doLogin(userName);\n            window.location.reload();\n          }, 1000);\n        }\n      });\n    } else {\n      alert('ユーザーネームとパスワードを入力してください');\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"logo\",\n      alt: \"todo\",\n      title: \"todo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"login type1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"icon username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"textbox\",\n      type: \"text\",\n      name: \"username\",\n      id: \"username\",\n      placeholder: \"username or email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"icon password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"textbox\",\n      type: \"text\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"login-options\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"login-btn\",\n      onClick: this.doLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"LOGIN\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/raphtalia/workspace/rails/5xruby/client/src/login.js"],"names":["React","Login","Component","constructor","doLogin","bind","userName","document","getElementById","value","password","uri","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","data","status","res","alert","token","localStorage","setItem","setTimeout","props","window","location","reload","render"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nexport class Login extends React.Component {\n    constructor() {\n        super();\n        this.doLogin = this.doLogin.bind(this);\n    }\n\n    doLogin() {\n        const userName = document.getElementById('username').value;\n        const password = document.getElementById('password').value;\n        if (userName !== '' && password !== '') {\n\n\n            const uri = 'http://127.0.0.1:3000/login'\n            fetch(uri, {\n                method: 'post',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Accept: 'application/json'\n                },\n                body: JSON.stringify({\n                    'Username': userName,\n                    'Password': password\n                })\n            })\n                .then(\n                    response =>\n                        response.json().then(data => ({\n                            data: data,\n                            status: response.status\n                        }))\n                )\n                .then(res => {\n                    if (res.status === 401) {\n                        alert('ユーザ名かパスワードが間違っています');\n                    } else {\n                        if (res.data.token) {\n                            localStorage.setItem('token', res.data.token)\n                        }\n                        setTimeout(() => {\n                            this.props.doLogin(userName);\n                            window.location.reload();\n                        }, 1000)\n                    }\n                })\n\n        } else {\n            alert('ユーザーネームとパスワードを入力してください');\n        }\n\n    }\n\n    render() {\n        return (\n            <div className=\"content\">\n                <div className=\"img\">\n                    <a href=\"#\" className=\"logo\" alt=\"todo\" title=\"todo\" />\n                </div>\n                <div className=\"login type1\">\n                    <div className=\"input-wrapper\">\n                        <i className=\"icon username\" />\n                        <input className=\"textbox\" type=\"text\" name=\"username\" id=\"username\" placeholder=\"username or email\" />\n                    </div>\n                    <div className=\"input-wrapper\">\n                        <i className=\"icon password\" />\n                        <input className=\"textbox\" type=\"text\" name=\"password\" id=\"password\" placeholder=\"password\" />\n                    </div>\n                </div>\n                <div className=\"login-options\">\n                    <button type=\"button\" className=\"login-btn\" onClick={this.doLogin}>LOGIN</button>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}