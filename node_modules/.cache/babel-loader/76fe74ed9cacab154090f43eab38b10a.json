{"ast":null,"code":"var _jsxFileName = \"/Users/raphtalia/workspace/rails/5xruby/client/src/todoList.js\";\nimport React from 'react';\nexport class TodoList extends React.Component {\n  constructor() {\n    super();\n    this.remove = this.remove.bind(this);\n    this.done = this.done.bind(this);\n    this.changeList = this.changeList.bind(this);\n    this.state = {\n      activeList: 'All'\n    };\n  }\n\n  componentWillMount() {\n    this.scrollToBottom();\n  }\n\n  componentUpdate() {\n    this.scrollToBottom();\n  }\n\n  remove(e) {\n    this.props.removeTask(e.target.parentNode.id);\n  }\n\n  done(e) {\n    this.props.doneTask(e.target.parentNode.id);\n  }\n\n  scrollToBottom() {\n    var objDiv = document.getElementById('todoList');\n    var height = document.getElementById('todoList').scrollHeight;\n    objDiv.scrollTop = height;\n  }\n\n  changeList(e) {\n    var listChanger = document.getElementById('listChanger');\n    var li = listChanger.querySelectorAll('li');\n\n    for (let i = 0; i < li.length; i++) {\n      li[i].classList.remove('active');\n    }\n\n    var activeLi = e.target.parentNode;\n    activeLi.classList.add('active');\n    this.setState({\n      activeList: activeLi.innerText\n    });\n  }\n\n  render() {\n    let items_left = 0;\n    const items = this.props.myList.map((elem, i) => {\n      let task_id = elem.id;\n\n      if (this.state.activeList === '全て' || this.state.activeList === '保留中' && elem.status === 'onhand' || this.state.activeList === '作業中' && elem.status === 'passive' || this.state.activeList === '完了' && elem.status === 'active') {\n        if (elem.status === 'onhand' || elem.status === 'passive') {\n          items_left++;\n        }\n\n        return React.createElement(\"li\", {\n          key: i,\n          id: task_id,\n          className: elem.status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, i + 1), React.createElement(\"span\", {\n          className: \"title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, elem.text), React.createElement(\"span\", {\n          className: \"type\",\n          onClick: this.done,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"delete\",\n          onClick: this.remove,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }));\n      }\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"todoList\",\n      className: \"todo-list type1\",\n      style: {\n        height: 290,\n        overflowY: 'scroll'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, items)), React.createElement(\"div\", {\n      className: \"todo-filter type1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"\\u3042\\u3068\", React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, items_left), \"\\u3053\")), React.createElement(\"div\", {\n      className: \"right\",\n      id: \"listChanger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"active\",\n      onClick: this.changeList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u5168\\u3066\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.changeList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u4FDD\\u7559\\u4E2D\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.changeList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"\\u4F5C\\u696D\\u4E2D\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.changeList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"\\u5B8C\\u4E86\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/raphtalia/workspace/rails/5xruby/client/src/todoList.js"],"names":["React","TodoList","Component","constructor","remove","bind","done","changeList","state","activeList","componentWillMount","scrollToBottom","componentUpdate","e","props","removeTask","target","parentNode","id","doneTask","objDiv","document","getElementById","height","scrollHeight","scrollTop","listChanger","li","querySelectorAll","i","length","classList","activeLi","add","setState","innerText","render","items_left","items","myList","map","elem","task_id","status","text","overflowY"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport class TodoList extends React.Component {\n    constructor() {\n        super();\n        this.remove = this.remove.bind(this);\n        this.done = this.done.bind(this);\n        this.changeList = this.changeList.bind(this);\n        this.state = { activeList: 'All' };\n    }\n\n    componentWillMount() {\n        this.scrollToBottom()\n    }\n    componentUpdate() {\n        this.scrollToBottom()\n    }\n\n    remove(e) {\n        this.props.removeTask(e.target.parentNode.id);\n    }\n\n    done(e) {\n        this.props.doneTask(e.target.parentNode.id);\n    }\n\n    scrollToBottom() {\n        var objDiv = document.getElementById('todoList');\n        var height = document.getElementById('todoList').scrollHeight;\n        objDiv.scrollTop = height\n    }\n\n    changeList(e) {\n        var listChanger = document.getElementById('listChanger');\n        var li = listChanger.querySelectorAll('li');\n        for (let i = 0; i < li.length; i++) {\n            li[i].classList.remove('active');\n        }\n        var activeLi = e.target.parentNode;\n        activeLi.classList.add('active');\n        this.setState({ activeList: activeLi.innerText });\n    }\n\n    render() {\n        let items_left = 0;\n        const items = this.props.myList.map((elem, i) => {\n            let task_id = elem.id;\n            if (\n                this.state.activeList === '全て' ||\n                (this.state.activeList === '保留中' && elem.status === 'onhand') ||\n                (this.state.activeList === '作業中' && elem.status === 'passive') ||\n                (this.state.activeList === '完了' && elem.status === 'active')\n            ) {\n                if (elem.status === 'onhand' || elem.status === 'passive') {\n                    items_left++;\n                }\n                return (\n                    <li key={i} id={task_id} className={elem.status}>\n                        <span className=\"id\">{i + 1}</span>\n                        <span className=\"title\">{elem.text}</span>\n                        <span className=\"type\" onClick={this.done} />\n                        <span className=\"delete\" onClick={this.remove}></span>\n                    </li>\n\n                )\n            }\n        });\n        return (\n            <div>\n                <div id=\"todoList\" className=\"todo-list type1\"\n                    style={{\n                        height: 290,\n                        overflowY: 'scroll',\n                    }}>\n                    <ul>\n                        {items}\n                    </ul>\n                </div>\n                <div className=\"todo-filter type1\">\n                    <div className=\"left\">\n                        <span>あと<b>{items_left}</b>こ</span>\n                    </div>\n                    <div className=\"right\" id=\"listChanger\">\n                        <ul>\n                            <li className=\"active\" onClick={this.changeList}><span>全て</span></li>\n                            <li><span onClick={this.changeList}>保留中</span></li>\n                            <li><span onClick={this.changeList}>作業中</span></li>\n                            <li><span onClick={this.changeList}>完了</span></li>\n                        </ul>\n                    </div>\n                </div>\n            </div >\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}